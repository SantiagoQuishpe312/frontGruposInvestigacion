<form [formGroup]="grupoForm" class="container">
  <div class="row">
    <div class="col-md-6">
      <div class="header">
        <h1 class="title">GRUPOS CON MAYOR PRODUCCIÓN CIENTÍFICA</h1>
      </div>
      <div style="width: 900px; height: 500px">
        <canvas id="totalPublicacionesCanvas"></canvas>
      </div>
      <div class="grid-item">
        <label for="selectGrupo">Seleccionar Grupo:</label>
        <select id="selectGrupo" (change)="handleGrupoSelectionChange($event)">
          <option *ngFor="let grupo of grupos" [value]="grupo.nombreGrupoInv">
            {{ grupo.nombreGrupoInv }}
          </option>
        </select>
      </div>
      <table>
        <tr>
          <td>
            <div style="width: 400px; height: 400px">
              <canvas id="pieChartCanvas"></canvas>
            </div>
          </td>

          <td>
            <div class="col-md-6">
              <div class="table-responsive">
                <table class="stats-table">
                  <thead>
                    <tr>
                      <th colspan="6">
                        <div class="titulo">INFORMACIÓN DE PUBLICACIONES</div>
                      </th>
                    </tr>
                    <tr>
                      <th colspan="3">NOMBRE DEL GRUPO:</th>
                      <th colspan="3">
                        {{ grupoSeleccionado?.nombreGrupoInv }}
                      </th>
                    </tr>
                  </thead>

                  <tr>
                    <th>REVISTAS</th>
                    <th>LIBROS</th>
                    <th>CONGRESOS</th>
                    <th>PROYECTOS</th>
                    <th>TESIS GRADO</th>
                  </tr>

                  <tbody>
                    <tr>
                      <td>
                        {{ revistasPorGrupo[grupoSeleccionado?.idGrupoInv] }}
                      </td>
                      <td>
                        {{ librosPorGrupo[grupoSeleccionado?.idGrupoInv] }}
                      </td>
                      <td>
                        {{ congresosPorGrupo[grupoSeleccionado?.idGrupoInv] }}
                      </td>
                      <td>
                        {{ proyectosPorGrupo[grupoSeleccionado?.idGrupoInv] }}
                      </td>
                      <td>
                        {{ tesisGradoPorGrupo[grupoSeleccionado?.idGrupoInv] }}
                      </td>
                    </tr>
                  </tbody>
                  <thead>
                    <tr>
                      <th colspan="3"><h1>TOTAL DE PUBLICACIONES:</h1></th>
                      <th colspan="3">
                        {{
                          getTotalPublicaciones(grupoSeleccionado?.idGrupoInv)
                        }}
                      </th>
                    </tr>
                  </thead>
                </table>
              </div>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </div>
</form>
