<div *ngIf="loadingData" class="loading-spinner-overlay">
    <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
</div>
<div class="cont">

    <div class="container-fluid">
        <div class="card" *ngIf="!loadingData">

            <!-- Aparece Unicamente cuando se debe cargar el formulario de creaci贸n de grupo de investigaci贸n -->
            <header *ngIf="!invGroupExists">
                <h1>Formulario de Solicitud de Creaci贸n de Grupo de
                    Investigaci贸n</h1>
            </header>
            <div *ngIf="invGroupExists">

                <!-- Posterior al envio del formulario de solicitud de creaci贸n del grupo de Investigaci贸n se debe cargar el plan de desarrollo del grupo de Investigaci贸n -->
                <header
                    *ngIf="invGroupExists  && grupo && grupo.proceso==='1' ">

                    <h1>Plan de Desarrollo</h1>
                </header>

                <!--  Carga del memrando de creacion del grupo de -->
                <header
                    *ngIf="invGroupExists  && grupo && grupo.proceso==='2' ">

                    <h1>Propuesta de Creaci贸n del Grupo de Investigaci贸n</h1>
                </header>
                <header *ngIf="invGroupExists && grupo && (grupo.proceso === '3' || grupo.proceso === '4' || grupo.proceso === '5')">
                    <h1>Solicitudes en Tr谩mite</h1>
                  </header>
                  

                <!-- Aparece cuando se solicita Informe de Seguimiento -->
                <header
                    *ngIf="invGroupExists  && grupo && grupo.estadoGrupoInv=='SolInforme' ">

                    <h1>La Unidad de Gesti贸n de Grupos de Investigaci贸n a
                        solicitado
                        que cargue la documentaci贸n habilitante para el
                        seguimiento</h1>
                </header>
                <!-- Aparece cuando se envia la solicitud de creaci贸n junto con el plan de desarrollo y muestra el status de su solicitud -->

                <header
                    *ngIf="invGroupExists  && grupo && grupo.estadoGrupoInv=='revDirDep' || grupo.estadoGrupoInv==='revInfPer' 
                        || grupo.estadoGrupoInv==='revVITT' || grupo.estadoGrupoInv==='solInfPer'
                        || grupo.estadoGrupoInv==='revCom'|| grupo.estadoGrupoInv==='revCon'|| grupo.estadoGrupoInv==='Registro' ">

                    <h1>Se esta procesando su solicitud</h1>
                </header>
                <header
                    *ngIf="invGroupExists  && grupo && grupo.estadoGrupoInv=='Favorable' ">

                    <h1>Su solicitud se proceso co un resultado Favorable</h1>
                </header>

                <header
                    *ngIf="grupo && grupo.estadoGrupoInv==='Activo'&& grupo.proceso!=='SolicitaPlanAnual'">
                    <h1>Bienvenido al M贸dulo de Gesti贸n de Grupos de
                        Investigaci贸n</h1>
                </header>
                <!-- Seguimiento -->
                <header *ngIf="grupo && grupo.proceso==='SolicitaPlanAnual'">
                    <h1>Elaborar y remitir los planes</h1>
                </header>

            </div>

            <div *ngIf="!invGroupExists" class="info-proceso">
                <h1 class="titulos-procesos">Para empezar el proceso de creaci贸n
                    debe llenar el
                    Formulario de Solicitud
                    de Creaci贸n de Grupo de Investigaci贸n</h1>
                <p>
                    El personal acad茅mico interesado en formar un GI
                    multidisciplinario, presenta la solicitud de creaci贸n de GI
                    con base a los requisitos establecidos en el
                    <a
                        href="https://usgn.espe.edu.ec/wp-content/uploads/2024/04/RESOLUCION-ESPE-HCU-RES-2024-035.pdf"
                        target="_blank" rel="noopener noreferrer">Reglamento de
                        Investigaci贸n.</a>
                </p>
                <button type="button" (click)="enlace('creation_request')"
                    mat-raised-button
                    matTooltip="Formulario"><span>Formulario de Solicitud de
                        Creaci贸n de Grupo de Investigaci贸n</span></button>
            </div>

            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.estadoGrupoInv==='revDirDep' || grupo.estadoGrupoInv==='revInfPer' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>

                Su solicitud se encuentra actualmente en revisi贸n por parte del
                Director del Departamento
                <p *ngIf="grupo.estadoGrupoInv==='revInfPer'">Sus documentos han
                    sido revisados por el Coordinador de Investigaci贸n</p>
            </div>
            <div class="presentacionGrupo"
                *ngIf=" !loadingData  &&  grupo.estadoGrupoInv==='revVITT' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>

                Su solicitud se encuentra remitida al Vicerrectorado de
                Investigaci贸n
            </div>
            <div class="presentacionGrupo"
                *ngIf=" !loadingData  &&  grupo.estadoGrupoInv==='revCom' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>

                Su solicitud se encuentra remitida al Comit茅 de Investigaci贸n
            </div>
            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.estadoGrupoInv==='revVITT' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>

                Su solicitud se encuentra actualmente en revisi贸n por parte del
                VITT
            </div>

            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.estadoGrupoInv==='Favorable' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>
                El Comit茅 de Investigaci贸n ha emitido un criterio favorable de
                su solicitud
            </div>
            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.estadoGrupoInv==='Registro' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>
                El Consejo Acad茅mico emitir谩 el acta de resoluci贸n de creaci贸n
                del GI al VITT y al Departamento proponente. </div>
            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.estadoGrupoInv==='revCon' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>
                El Consejo Acad茅mico emitir谩 el acta de resoluci贸n de creaci贸n
                del GI al VITT y al Departamento proponente
            </div>
            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.estadoGrupoInv==='sol_documentacion' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>

                <button type="button" (click)="enlace('seguimiento')"
                    color="primary" mat-raised-button>Cargar
                    documentacion</button>
            </div>

            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.estadoGrupoInv==='solInfPer' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>
                <h1>El Director de Departamento ha solicitado que remita el
                    respectivo Informe de Pertinencia para validar la
                    informaci贸n</h1>

            </div>

            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.proceso==='1' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>
                <h2>Para complementar la informaci贸n y continuar con la
                    solicitud de creaci贸n del grupo de investigaci贸n se debe
                    cargar el Plan de Desarrollo del Grupo de
                    Investigaci贸n</h2>
                <button type="button" (click)="enlace('developPlan')"
                    color="primary" mat-raised-button>Cargar plan de
                    Desarrollo</button>
                <app-progress [id]="idGrupo"></app-progress>

            </div>

            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.proceso==='2' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>
                <h2>Mediante memorando presentar la propuesta de creaci贸n
                    del Grupo de Investigaci贸n al Departamento.</h2>
                    
                <button type="button" (click)="enlace('propuesta')"
                    color="primary" mat-raised-button>Cargar memorando</button>
                <app-progress [id]="idGrupo"></app-progress>

            </div>
            <div class="presentacionGrupo"
            *ngIf=" !loadingData  && (grupo.proceso === '3' || grupo.proceso === '4' || grupo.proceso === '5') "
            style="text-align: center;">
            <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>
            <h2>Su solicitud se encuentra en revisi贸n</h2>
            <app-progress [id]="idGrupo"></app-progress>

        </div>

            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.estadoGrupoInv==='Activo' && grupo.proceso!=='SolicitaPlanAnual'"
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>
            </div>
            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.estadoGrupoInv==='revDirDep' || grupo.estadoGrupoInv==='solInfPer' "
                style="text-align: center;">
                <app-progress [id]="idGrupo"></app-progress>

            </div>
            <!-- FASE DE SEGUIMIENTO DEL GRUPO DE INVESTIGACIN (FORMULARIO CUANDO SE ENVA LA SOLICITUD POR PRIMERA VEZ) -->
            <div class="presentacionGrupo"
                *ngIf=" !loadingData  && grupo.estadoGrupoInv==='Activo' && grupo.proceso==='SolicitaPlanAnual' "
                style="text-align: center;">
                <h1>Grupo de Investigaci贸n {{grupo.nombreGrupoInv}}</h1>
                <p>Mediante memorando la Unidad de Gesti贸n de Investigaci贸n
                    solicita que el GI revise, elabore y remita el plan de
                    desarrollo y planificaci贸n operativa anual con base a los
                    lineamientos establecidos por el VITT.
                    El GI coordinar谩n con la Unidad responsable de la Gesti贸n de
                    la Investigaci贸n con el fin de verificar la pertinencia y
                    cumplimiento de requisitos.
                </p>
                <div>
                    <button type="button" mat-raised-button
                        color="primary"><a href="/main/anual-Plan">Cargar Plan
                            Anual</a></button>
                </div>
                <div *ngIf="pdfUrl">
                    <iframe [src]="pdfUrl" width="100%" height="600px"></iframe>

                </div>

            </div>

        </div>

        <!-- FASE DE CREACIN DEL GRUPO DE INVESTIGACIN (FORMULARIO CUANDO SE ENVA LA SOLICITUD POR PRIMERA VEZ) -->

    </div>
</div>